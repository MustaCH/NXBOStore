import React, { useEffect, useState } from "react";
import { RiQuestionnaireLine } from "react-icons/ri";
import { Link } from "react-router-dom";
import SearchBar from "../searchBar";
import { getProducts } from "../../../database/firebase";

function Header() {
  const [products, setProducts] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const productsData = await getProducts();
        setProducts(productsData);
      } catch (error) {
        console.error("Error al obtener productos:", error);
      }
    };

    fetchData();
  }, []);

  return (
    <div>
      <header className="p-6 lg:py-6">
        <div className="lg:hidden w-full flex justify-end text-gray-400">
          <Link to={"/FAQS"}>
            <button>
              <RiQuestionnaireLine className="text-2xl md:text-3xl z-auto" />
            </button>
          </Link>
        </div>
        <div className="flex flex-col items-center gap-4">
          <div>
            <div className="my-6">
              <svg
                className="fill-gray-300 w-64 h-12"
                width="278"
                height="47"
                viewBox="0 0 278 47"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M0.686253 5.808C0.686253 4.18667 1.17692 2.928 2.15825 2.032C3.18225 1.09333 4.59025 0.623997 6.38225 0.623997L31.2143 38.384L31.6623 38L29.8063 34.928V0.623997C31.7689 0.623997 33.2409 1.05066 34.2223 1.904C35.2463 2.75733 35.7583 3.99466 35.7583 5.616V41.84C35.7583 43.2053 35.2676 44.336 34.2863 45.232C33.3476 46.128 32.1316 46.576 30.6383 46.576L5.23025 7.984L4.78225 8.368L6.63825 11.44V41.584C6.63825 43.2053 6.12625 44.4427 5.10225 45.296C4.12092 46.1493 2.64892 46.576 0.686253 46.576V5.808ZM38.4518 46.576C37.1291 46.576 36.0198 46.128 35.1238 45.232L51.0598 22.896L35.9558 1.712C36.8091 0.986664 37.8544 0.623997 39.0918 0.623997C39.9878 0.623997 40.7984 0.794664 41.5238 1.136C42.2918 1.47733 42.8891 1.94667 43.3158 2.544L54.0678 17.968L52.5958 19.952L53.0438 20.272L65.4598 2.544C65.8864 1.94667 66.4624 1.47733 67.1878 1.136C67.9558 0.794664 68.7878 0.623997 69.6838 0.623997C70.2384 0.623997 70.7931 0.730663 71.3478 0.943996C71.9451 1.11466 72.4358 1.37066 72.8198 1.712L57.7158 22.896L73.6518 45.232C72.7558 46.128 71.6464 46.576 70.3238 46.576C69.5558 46.576 68.8304 46.384 68.1478 46C67.5078 45.6587 66.9531 45.168 66.4838 44.528L54.3878 27.376L42.2918 44.528C41.8224 45.168 41.2464 45.6587 40.5638 46C39.9238 46.384 39.2198 46.576 38.4518 46.576ZM76.7708 46C75.9174 46 75.1921 45.7227 74.5948 45.168C73.9974 44.6133 73.6988 43.952 73.6988 43.184V4.016C73.6988 3.20533 73.9974 2.544 74.5948 2.032C75.1921 1.47733 75.9174 1.2 76.7708 1.2H94.5628C98.2748 1.2 101.219 2.30933 103.395 4.528C105.613 6.74667 106.723 9.73333 106.723 13.488C106.723 15.4933 106.189 17.3707 105.123 19.12C104.056 20.8693 102.669 22.1707 100.963 23.024V23.152C103.395 23.8773 105.272 25.136 106.595 26.928C107.917 28.6773 108.579 30.8107 108.579 33.328C108.579 35.8027 108.045 38 106.979 39.92C105.955 41.84 104.504 43.3333 102.627 44.4C100.749 45.4667 98.5948 46 96.1628 46H76.7708ZM94.4348 20.976C96.1841 20.976 97.6774 20.272 98.9148 18.864C100.195 17.4133 100.835 15.664 100.835 13.616C100.835 11.3547 100.259 9.584 99.1068 8.304C97.9974 7.024 96.4401 6.384 94.4348 6.384H79.6508V20.976H94.4348ZM95.7148 40.816C97.8908 40.816 99.5974 40.176 100.835 38.896C102.072 37.5733 102.691 35.7387 102.691 33.392C102.691 31.1307 102.072 29.36 100.835 28.08C99.6401 26.8 97.9334 26.16 95.7148 26.16H79.6508V40.816H95.7148ZM126.381 46.576C122.839 46.576 119.661 45.8933 116.845 44.528C114.071 43.12 111.895 41.2 110.317 38.768C108.738 36.2933 107.949 33.5627 107.949 30.576V16.496C107.949 13.5093 108.738 10.8213 110.317 8.432C111.895 6 114.071 4.10133 116.845 2.736C119.661 1.328 122.839 0.623997 126.381 0.623997C129.965 0.623997 133.143 1.328 135.917 2.736C138.733 4.10133 140.93 6 142.509 8.432C144.087 10.8213 144.877 13.5093 144.877 16.496V30.576C144.877 33.5627 144.087 36.2933 142.509 38.768C140.93 41.2 138.733 43.12 135.917 44.528C133.101 45.8933 129.922 46.576 126.381 46.576ZM126.381 41.328C130.349 41.328 133.442 40.3467 135.661 38.384C137.879 36.4213 138.989 33.7973 138.989 30.512V16.624C138.989 13.3387 137.879 10.736 135.661 8.816C133.442 6.85333 130.349 5.872 126.381 5.872C122.455 5.872 119.383 6.85333 117.165 8.816C114.946 10.736 113.837 13.3387 113.837 16.624V30.512C113.837 33.7973 114.946 36.4213 117.165 38.384C119.383 40.3467 122.455 41.328 126.381 41.328ZM171.936 46.576C168.352 46.576 165.238 46.064 162.592 45.04C159.99 44.016 158.006 42.6507 156.64 40.944C155.275 39.2373 154.592 37.4027 154.592 35.44C154.592 33.8187 155.019 32.5813 155.872 31.728C156.726 30.832 158.027 30.384 159.776 30.384C159.776 34.0107 160.864 36.784 163.04 38.704C165.216 40.5813 168.267 41.52 172.192 41.52C175.947 41.52 178.827 40.9013 180.832 39.664C182.838 38.384 183.84 36.5067 183.84 34.032C183.84 32.5387 183.456 31.3227 182.688 30.384C181.963 29.4027 180.704 28.5707 178.912 27.888C177.163 27.1627 174.624 26.4373 171.296 25.712C167.371 24.8587 164.256 23.8773 161.952 22.768C159.648 21.616 157.963 20.2293 156.896 18.608C155.83 16.9867 155.296 14.9813 155.296 12.592C155.296 10.2027 155.958 8.112 157.28 6.32C158.646 4.48533 160.566 3.07733 163.04 2.096C165.515 1.11466 168.395 0.623997 171.68 0.623997C174.795 0.623997 177.568 1.072 180 1.968C182.475 2.82133 184.395 4.05866 185.76 5.68C187.168 7.25866 187.872 9.05066 187.872 11.056C187.872 12.2933 187.467 13.2747 186.656 14C185.888 14.6827 184.672 15.024 183.008 15.024C182.539 11.7813 181.387 9.41333 179.552 7.92C177.76 6.42666 175.136 5.68 171.68 5.68C168.352 5.68 165.792 6.27733 164 7.472C162.208 8.624 161.312 10.2667 161.312 12.4C161.312 13.8933 161.632 15.1307 162.272 16.112C162.955 17.0507 164.086 17.8613 165.664 18.544C167.286 19.2267 169.547 19.888 172.448 20.528C176.8 21.4667 180.214 22.512 182.688 23.664C185.206 24.816 187.019 26.224 188.128 27.888C189.238 29.552 189.792 31.6 189.792 34.032C189.792 37.9147 188.171 40.9867 184.928 43.248C181.686 45.4667 177.355 46.576 171.936 46.576ZM203.46 46.576C200.43 46.576 198.169 45.7227 196.676 44.016C195.182 42.2667 194.436 39.984 194.436 37.168V18.48H188.484C188.484 17.0293 188.804 15.92 189.444 15.152C190.084 14.384 190.958 14 192.068 14H194.5V7.92C194.5 6.512 194.948 5.488 195.844 4.848C196.782 4.16533 198.169 3.824 200.004 3.824V14H208.516C208.516 16.9867 207.172 18.48 204.484 18.48H200.068V36.976C200.068 38.6827 200.366 39.8987 200.964 40.624C201.604 41.3067 202.734 41.648 204.356 41.648C205.849 41.648 207.257 41.264 208.58 40.496C209.134 41.0507 209.412 41.7973 209.412 42.736C209.412 43.76 208.878 44.656 207.812 45.424C206.745 46.192 205.294 46.576 203.46 46.576ZM220.296 46.576C217.694 46.576 215.326 46.0853 213.192 45.104C211.102 44.1227 209.459 42.8 208.264 41.136C207.112 39.4293 206.536 37.5307 206.536 35.44V24.944C206.536 22.8107 207.112 20.8693 208.264 19.12C209.459 17.3707 211.102 15.984 213.192 14.96C215.283 13.936 217.651 13.424 220.296 13.424C222.942 13.424 225.31 13.936 227.4 14.96C229.534 15.984 231.176 17.3707 232.328 19.12C233.523 20.8693 234.12 22.8107 234.12 24.944V35.44C234.12 37.5307 233.523 39.4293 232.328 41.136C231.134 42.8 229.491 44.1227 227.4 45.104C225.31 46.0853 222.942 46.576 220.296 46.576ZM220.296 41.776C222.856 41.776 224.883 41.1787 226.376 39.984C227.912 38.7467 228.68 37.1467 228.68 35.184V25.136C228.68 23.088 227.912 21.424 226.376 20.144C224.883 18.864 222.856 18.224 220.296 18.224C217.779 18.224 215.752 18.864 214.216 20.144C212.68 21.424 211.912 23.088 211.912 25.136V35.184C211.912 37.1467 212.659 38.7467 214.152 39.984C215.688 41.1787 217.736 41.776 220.296 41.776ZM248.999 18.352C246.61 18.352 244.626 19.0773 243.047 20.528C241.469 21.936 240.679 23.664 240.679 25.712V42.48C240.679 43.888 240.21 44.9333 239.271 45.616C238.375 46.256 236.989 46.576 235.111 46.576V18.16C235.111 15.0027 236.903 13.424 240.487 13.424V17.328C239.805 18.0533 239.335 18.6933 239.079 19.248L239.335 19.504C242.066 15.4507 245.479 13.424 249.575 13.424C251.111 13.424 252.285 13.808 253.095 14.576C253.906 15.3013 254.311 16.1973 254.311 17.264C254.311 18.032 254.119 18.7147 253.735 19.312C252.541 18.672 250.962 18.352 248.999 18.352ZM264.638 46.576C262.035 46.576 259.71 46.0853 257.662 45.104C255.614 44.08 254.014 42.6933 252.862 40.944C251.71 39.152 251.134 37.1467 251.134 34.928V25.456C251.134 23.1947 251.731 21.1467 252.926 19.312C254.163 17.4773 255.806 16.048 257.854 15.024C259.944 13.9573 262.206 13.424 264.638 13.424C267.07 13.424 269.288 13.936 271.294 14.96C273.342 15.984 274.942 17.392 276.094 19.184C277.288 20.976 277.886 23.0027 277.886 25.264V29.36C277.886 30.0427 277.63 30.6187 277.118 31.088C276.606 31.5573 275.987 31.792 275.262 31.792H256.574V34.672C256.574 36.848 257.256 38.5973 258.622 39.92C260.03 41.2427 262.035 41.904 264.638 41.904C267.24 41.904 269.224 41.328 270.59 40.176C271.955 39.024 272.638 37.4667 272.638 35.504C273.918 35.4187 274.984 35.6747 275.838 36.272C276.734 36.8267 277.182 37.6587 277.182 38.768C277.182 40.1333 276.584 41.4133 275.39 42.608C274.238 43.8027 272.702 44.7627 270.782 45.488C268.862 46.2133 266.814 46.576 264.638 46.576ZM272.702 27.44V25.264C272.702 23.1307 271.955 21.4027 270.462 20.08C269.011 18.7147 267.07 18.032 264.638 18.032C262.206 18.032 260.243 18.7147 258.75 20.08C257.299 21.4027 256.574 23.1307 256.574 25.264V27.44H272.702Z" />
              </svg>
            </div>
          </div>
          <SearchBar placeholder={"Search"} data={products} />
        </div>
        <ul className="hidden lg:flex lg:justify-between lg:mx-80 border-b-2 py-4 mt-8 border-orange-600 uppercase text-orange-600 font-semibold">
          <li>
            <Link
              to={"/cat/shirts"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Shirts
            </Link>
          </li>
          <li>
            <Link
              to={"/cat/hoodies"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Hoodies
            </Link>
          </li>
          <li>
            <Link
              to={"/cat/coats"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Coats
            </Link>
          </li>
          <li>
            <Link
              to={"/cat/pants"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Pants
            </Link>
          </li>
          <li>
            <Link
              to={"/cat/shorts"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Shorts
            </Link>
          </li>
          <li>
            <Link
              to={"/cat/accesories"}
              className="transition-all hover:text-gray-300 duration-300"
            >
              Accesories
            </Link>
          </li>
        </ul>
      </header>
    </div>
  );
}

export default Header;
